<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Kevin's Black-Tech]]></title>
  <subtitle><![CDATA[Home's behind and the world ahead.]]></subtitle>
  <link href="//atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2016-04-13T05:29:03.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name><![CDATA[Li Kanwen]]></name>
    <email><![CDATA[likanwen@icloud.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Django Templateçš„ä¸€äº›æ³¨æ„ç‚¹]]></title>
    <link href="http://yoursite.com/2016/01/20/django1/"/>
    <id>http://yoursite.com/2016/01/20/django1/</id>
    <published>2016-01-20T12:22:33.000Z</published>
    <updated>2016-04-13T05:29:03.000Z</updated>
    <content type="html"><![CDATA[<h3 id="Django_Templateçš„ifæ ‡ç­¾">Django Templateçš„ifæ ‡ç­¾</h3><p>åœ¨Djangoçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œifæ ‡ç­¾çš„åŠŸèƒ½ä¸æ˜¯å¤ªå¼ºï¼Œåªèƒ½æ£€æŸ¥ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºçœŸï¼ˆå³ï¼Œå˜é‡å­˜åœ¨ï¼Œéç©ºï¼Œä¸æ˜¯å¸ƒå°”å€¼å‡ï¼‰ï¼Œä¸æ”¯æŒ==ã€!=ã€&gt;ã€&gt;=ã€&lt;ã€&lt;=ç­‰æ¯”è¾ƒã€‚å¦‚æœè¦æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œå°±è¦ä½¿ç”¨ifequalæ ‡ç­¾ã€‚<br>åœ¨Djangoæ¨¡æ¿ç³»ç»Ÿä¸­ï¼Œä»¥ä¸‹è¿™äº›å¯¹è±¡ç›¸å½“äºå¸ƒå°”å€¼çš„False<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç©ºåˆ—è¡¨ï¼ˆ[]ï¼‰</span><br><span class="line">ç©ºå…ƒç»„ï¼ˆ()ï¼‰</span><br><span class="line">ç©ºå­—å…¸ï¼ˆ<span class="list">&#123;&#125;</span>ï¼‰</span><br><span class="line">ç©ºå­—ç¬¦ä¸²ï¼ˆ<span class="string">''</span>ï¼‰</span><br><span class="line">é›¶å€¼(<span class="number">0</span>)</span><br><span class="line">ç‰¹æ®Šå¯¹è±¡<span class="keyword">None</span></span><br><span class="line">å¯¹è±¡<span class="keyword">False</span></span><br></pre></td></tr></table></figure></p>
<p>é™¤è¿™äº›ä¹‹å¤–éƒ½è¢«è§†ä¸ºTrueã€‚ifæ ‡ç­¾è¿˜æ¥å—andã€orå’Œnotæ¥å¯¹å¤šä¸ªå˜é‡åšåˆ¤æ–­ï¼Œä½†æ˜¯andå’Œorä¸èƒ½æ··ç”¨ï¼Œå› ä¸ºå¯èƒ½ä¼šé€ æˆé€»è¾‘æ··ä¹±ï¼Œå› ä¸ºifæ ‡ç­¾ä¸æ”¯æŒé€šè¿‡()æ¥æ”¹å˜è¿ç®—ä¼˜å…ˆçº§ã€‚<br>ä¸è¿‡åœ¨è¾ƒé«˜ç‰ˆæœ¬çš„Djangoä¸­ï¼Œè¿™äº›éƒ½å¾—åˆ°äº†ä¸åŒç¨‹åº¦çš„æ”¹å–„ã€‚ä¾‹å¦‚ï¼š1. æ”¯æŒ==ã€&gt;è¿™äº›è¿ç®—ç¬¦æ¥å¯¹ä¸¤ä¸ªå¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼›2. andå’Œorå¯ä»¥æ··ç”¨ï¼Œä½†æ˜¯æ³¨æ„ä¸€ç‚¹ï¼Œandè¿ç®—çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚ä¸è¿‡ç”±äºifæ ‡ç­¾è¿˜æ˜¯ä¸æ”¯æŒ()ï¼Œæ‰€ä»¥è¿˜æ˜¯å°½é‡æŠŠè¿ç®—æ”¾åœ¨åç«¯è€Œä¸è¦æ··ç”¨andå’Œorã€‚</p>
<h3 id="Django_Templateä¸­çš„å˜é‡">Django Templateä¸­çš„å˜é‡</h3><p>åœ¨Django Templateä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¸Šä¸‹æ–‡ä¼ å…¥çš„å˜é‡ï¼Œä½†æ˜¯å˜é‡è°ƒç”¨æ–¹æ³•æ—¶ä¼šå—åˆ°ä¸€å®šçš„é™åˆ¶ï¼Œå˜é‡åªèƒ½è°ƒç”¨æ— å‚çš„æ–¹æ³•ï¼Œå¦‚ä¸€ä¸ªstrå¯¹è±¡ï¼Œå®ƒåªèƒ½è°ƒç”¨å¦‚upperä¹‹ç±»çš„æ— å‚å¯¹è±¡ï¼Œè°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="expansion">&#123;&#123; string.upper &#125;&#125;</span> <span class="comment"># correct</span></span><br><span class="line"><span class="expansion">&#123;&#123; string.upper() &#125;&#125;</span> <span class="comment">#error</span></span><br><span class="line"><span class="expansion">&#123;&#123; string.index(<span class="string">'a'</span>) &#125;&#125;</span> <span class="comment">#error</span></span><br><span class="line"><span class="expansion">&#123;&#123; string[<span class="number">0</span><span class="symbol">:-</span><span class="number">1</span>]&#125;&#125;</span> <span class="comment">#error</span></span><br></pre></td></tr></table></figure></p>
<p>å¯¹äºä¸€ä¸ªå¯ç´¢å¼•å¯¹è±¡ï¼Œå¦‚listã€setã€dictç­‰ï¼Œæˆ‘ä»¬åœ¨Templateä¸­å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å¾—å…¶ä¸­çš„æŒ‡å®šå¯¹è±¡ï¼š<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="expansion">&#123;&#123; list.<span class="number">0</span> &#125;&#125;</span> <span class="comment"># list[0]</span></span><br><span class="line"><span class="expansion">&#123;&#123; set.<span class="number">0</span> &#125;&#125;</span> <span class="comment"># set[0]</span></span><br><span class="line"><span class="expansion">&#123;&#123; dict.a &#125;&#125;</span> <span class="comment"># dict['a']</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Django_Templateè‡ªå®šä¹‰è¿‡æ»¤å™¨">Django Templateè‡ªå®šä¹‰è¿‡æ»¤å™¨</h3><p>Djangoåˆ©ç”¨è¿‡æ»¤å™¨å¤§å¤§å¼ºåŒ–äº†Templateçš„åŠŸèƒ½ï¼Œåœ¨Templateåˆ©ç”¨ç®¡é“ç¬¦<code>|</code>æ¥è°ƒç”¨ï¼Œè°ƒç”¨çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="expansion">&#123;&#123; value | filter &#125;&#125;</span> <span class="comment"># æ²¡æœ‰é¢å¤–çš„å‚æ•°</span></span><br><span class="line"><span class="expansion">&#123;&#123; value | filter <span class="symbol">:</span> arg &#125;&#125;</span> <span class="comment">#å¸¦æœ‰ä¸€ä¸ªé¢å¤–çš„å‚æ•°</span></span><br></pre></td></tr></table></figure></p>
<p>å…¶ä¸­ï¼Œ<code>value</code>æ˜¯å˜é‡ï¼Œ<code>arg</code>ä¸ºé€‰é¡¹å€¼<br>ä¸è¿‡åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€äº›è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ä¸€ä¸ªappç›®å½•å»ºç«‹templatetags/åœ¨æ­¤ç›®å½•ä¸‹å»ºç«‹ç©ºæ–‡ä»¶<strong>init</strong>.pyå’Œmyfilter.pyï¼Œé¦–å…ˆæ’å…¥å‡ è¡Œä»£ç ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from django import <span class="keyword">template</span></span><br><span class="line"><span class="keyword">register</span> = <span class="keyword">template</span>.Library()</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä¸­<code>register</code>æ˜¯ç”¨æ¥æ³¨å†Œè¿‡æ»¤å™¨çš„ï¼Œè¿‡æ»¤å™¨å‡½æ•°å¿…é¡»è¦è¿”å›ä¸€äº›ä¿¡æ¯ï¼Œå³ä½¿å‡ºé”™ï¼Œä¹Ÿè¦è¿”å›ç©ºå­—ç¬¦ä¸²æˆ–è€…é»˜è®¤å€¼ï¼Œè¿‡æ»¤å™¨åˆ†ä¸ºæœ‰å‚å’Œæ— å‚ä¸¤ç§ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(value, arg)</span>:</span></span><br><span class="line">    <span class="comment"># ç§»é™¤å­—ç¬¦ä¸²ä¸­valueçš„argå­—ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> value.replace(arg, <span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lower</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="comment"># å°†å­—ç¬¦ä¸²valueè½¬ä¸ºå°å†™å­—æ¯</span></span><br><span class="line">    <span class="keyword">return</span> value.lower()</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹å»çš„æˆ‘ä»¬æˆ‘ä»¬è¦æ³¨å†Œè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨çš„è¿‡æ»¤å™¨çš„åå­—</span></span><br><span class="line"><span class="comment"># ç¬¬äºŒä¸ªå°±æ˜¯ä½ çš„è¿‡æ»¤å™¨å‡½æ•°å¼•ç”¨å</span></span><br><span class="line">register.<span class="built_in">filter</span>(<span class="string">'remove'</span>, remove)</span><br><span class="line">register.<span class="built_in">filter</span>(<span class="string">'lower'</span>, <span class="built_in">lower</span>)</span><br></pre></td></tr></table></figure>
<p>åœ¨Python2.4ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°å™¨æ¥æ³¨å†Œï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="decorator">@register.filter(name='remove')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(value, arg)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> value.replace(arg, <span class="string">''</span>)</span><br><span class="line"><span class="decorator">@register.filter # ä½¿ç”¨å‡½æ•°åä½œä¸ºè¿‡æ»¤å™¨å</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lower</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> value.lower()</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦æŒ‡å®šä¼ å…¥çš„valueçš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è£…é¥°å™¨ï¼š</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.template.defaultfilters <span class="keyword">import</span> stringfilter</span><br><span class="line"><span class="property">@stringfilter</span>  <span class="comment"># å¸Œæœ›å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°</span></span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆï¼Œå®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> template</span><br><span class="line"><span class="keyword">from</span> django.template.defaultfilters <span class="keyword">import</span> stringfilter</span><br><span class="line"></span><br><span class="line">register = template.Library()</span><br><span class="line"></span><br><span class="line"><span class="decorator">@register.filter(name='remove')</span></span><br><span class="line"><span class="decorator">@stringfilter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(value, arg)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> value.replace(arg, <span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="decorator">@register.filter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lower</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> value.lower()</span><br></pre></td></tr></table></figure>
<p>ç„¶è€Œæˆ‘ä»¬åœ¨Templateä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨æ—¶ï¼Œè¦å…ˆåŠ è¿™ä¸€æ®µä»£ç ï¼š<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template_tag">&#123;% <span class="keyword">load</span> myfilter %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<h3 id="Django_Templateè‡ªå®šä¹‰æ ‡ç­¾">Django Templateè‡ªå®šä¹‰æ ‡ç­¾</h3><p>Djangoä¸­çš„è‡ªå®šä¹‰æ ‡ç­¾è¦æ¯”è‡ªå®šä¹‰è¿‡æ»¤å™¨å¤æ‚ä¸å°‘ï¼Œåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤§æ¦‚äº†è§£ä¸‹Django Templateçš„ç¼–è¯‘è¿‡ç¨‹ï¼Œå½“Djangoå»ç¼–è¯‘ä¸€ä¸ªTemplateæ—¶ï¼Œå®ƒä¼šæŠŠå†…å®¹è½¬æˆä¸€ä¸ªä¸ªdjango.template.Nodeå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªrenderæ–¹æ³•ï¼Œå› æ­¤ä¸€ä¸ªTemplateå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªNodeçš„åˆ—è¡¨ã€‚å½“ä¸€ä¸ªæ¨¡æ¿è¢«æ¸²æŸ“æ—¶ï¼ŒTemplateä¸­Nodeå®ä¾‹çš„renderæ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œæœ€ç»ˆçš„è¿”å›ä¼šè¢«åˆå¹¶ã€‚æ‰€ä»¥æˆ‘ä»¬è‡ªå®šä¹‰æ ‡ç­¾å°±éœ€è¦å»å®ç°æˆ‘ä»¬è‡ªå·±çš„Nodeç±»å’Œrenderæ–¹æ³•ã€‚<br>æˆ‘ä»¬åŠ¨æ‰‹æ¥å†™ä¸€ä¸ªæ ‡ç­¾ï¼Œè°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% current_time <span class="string">"<span class="variable">%Y</span>-<span class="variable">%m</span>-<span class="variable">%D</span> <span class="variable">%I</span>:<span class="variable">%M</span> <span class="variable">%p</span>"</span> <span class="variable">%&#125;</span></span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆè¿˜æ˜¯è¦å†™è¿™å‡ å¥ä»£ç ç”¨æ¥æ³¨å†Œï¼ˆæˆ‘ä»¬æŠŠè¿™éƒ¨åˆ†ä»£ç æ”¾å…¥è‡ªå®šä¹‰myfilter.pyä¸­ï¼Œè¿™ä¸¤è¡Œå°±å¯ä»¥çœç•¥äº†ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from django import <span class="keyword">template</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">register</span> = <span class="keyword">template</span>.Library()</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªNodeç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CurrentTimeNode</span><span class="params">(template.Node)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, format_string)</span>:</span></span><br><span class="line">        self.format_string = str(format_string)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">render</span><span class="params">(self, context)</span>:</span></span><br><span class="line">        now = datetime.datetime.now()</span><br><span class="line">        <span class="comment"># è¿”å›çš„æ˜¯æ ¼å¼åŒ–åçš„æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">return</span> now.strftime(self.format_string)</span><br></pre></td></tr></table></figure>
<p>ç„¶åå®šä¹‰ä¸€ä¸ªç¼–è¯‘å‡½æ•°ç”¨æ¥åˆ›å»ºNodeå®ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_current_time</span><span class="params">(parser, token)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        tag_name, format_string = token.split_contents()</span><br><span class="line">    <span class="comment"># tag_name = 'current_time'</span></span><br><span class="line">    <span class="comment"># format_string = '"%Y-%m-%D %I:%M %p"'</span></span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        msg = <span class="string">'%r tag requires a single argument'</span> % token.split_contents()[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">raise</span> template.TemplateSyntaxError(msg)</span><br><span class="line">    <span class="keyword">return</span> CurrentTimeNode(format_string[<span class="number">1</span>:-<span class="number">1</span>]) <span class="comment"># å»é™¤ä¸¤ä¸ª'"'</span></span><br></pre></td></tr></table></figure>
<p>æ¯ä¸€ä¸ªæ ‡ç­¾çš„ç¼–è¯‘å‡½æ•°éƒ½éœ€è¦parserå’Œtokenä¸¤ä¸ªå‡½æ•°ï¼Œparseræ˜¯æ¨¡æ¿åˆ†æå¯¹è±¡ï¼Œtokenä¸ºåˆ†æåçš„å†…å®¹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚token.contentsä¸ºæ ‡ç­¾çš„å†…å®¹ï¼Œtoken.split_contentsä¼šæŒ‰ç©ºæ ¼åˆ†å‰²tokençš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªtupleï¼Œä¸è¿‡ä¼šä¿ç•™â€˜â€œâ€™ï¼Œä½¿ç”¨æ—¶è¦æ³¨æ„ã€‚å…¶ä¸­token.split_contents()[0]å¯ä»¥å¾—åˆ°æ ‡ç­¾åã€‚</p>
<p>ç„¶åæˆ‘ä»¬è¦æ³¨å†Œä¸€ä¸‹æ ‡ç­¾ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@register.<span class="function"><span class="title">tag</span><span class="params">(name=<span class="string">"current_time"</span>)</span></span> ä»…é™Python2.<span class="number">4</span>ä»¥ä¸Š</span><br><span class="line"></span><br><span class="line">register.<span class="function"><span class="title">tag</span><span class="params">(<span class="string">'current_time'</span>, do_current_time)</span></span></span><br></pre></td></tr></table></figure>
<p>Templateä¸­ä½¿ç”¨æ—¶ä¾ç„¶è¦åŠ ä¸Šï¼š</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template_tag">&#123;% <span class="keyword">load</span> myfilter %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>
<p>è‡ªå®šä¹‰æ ‡ç­¾è¿˜æœ‰ä¸€äº›æ›´é«˜çº§çš„ç”¨æ³•ï¼Œæˆ‘ä»¬åœ¨åç»­çš„blogä¸­å†è®²ã€‚ã€‚</p>
<h3 id="å‚è€ƒ">å‚è€ƒ</h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.djangoproject.com/en/1.9/howto/custom-template-tags/" target="_blank" rel="external">https://docs.djangoproject.com/en/1.9/howto/custom-template-tags/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="Django_Templateçš„ifæ ‡ç­¾">Django Templateçš„ifæ ‡ç­¾</h3><p>åœ¨Djangoçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œifæ ‡ç­¾çš„åŠŸèƒ½ä¸æ˜¯å¤ªå¼ºï¼Œåªèƒ½æ£€æŸ¥ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºçœŸï¼ˆå³ï¼Œå˜é‡å­˜åœ¨ï¼Œéç©ºï¼Œä¸æ˜¯å¸ƒå°”å€¼å‡ï¼‰ï¼Œä¸æ”¯æŒ==ã€!=ã€&gt;ã€&gt;=ã€&lt;ã€]]>
    </summary>
    
      <category term="Django" scheme="http://yoursite.com/tags/Django/"/>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[echartsé…ç½®æ–¹æ³•]]></title>
    <link href="http://yoursite.com/2015/11/27/echarts1/"/>
    <id>http://yoursite.com/2015/11/27/echarts1/</id>
    <published>2015-11-27T12:09:49.000Z</published>
    <updated>2015-11-28T13:07:24.000Z</updated>
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æ¥æ›´æ–°åšå®¢~å¿™æ­»å¿™æ­»â€¦â€¦æœ€è¿‘ç¨å¾®æœ‰ç‚¹ç©ºäº†è¡¥æ›´è¡¥æ›´~~ğŸ˜ŠğŸ˜Š</p>
<p>æœ€è¿‘åœ¨ç ”ç©¶echartsï¼Œå‘ç°ç½‘ä¸Šçš„é…ç½®å¸–ä¸­çš„é…ç½®æ–¹æ³•æœ‰ç‚¹è¿‡æ—¶ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ¥å†™ä¸€ç¯‡ï¼Œè®°å½•ä¸‹echartsçš„é…ç½®æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆå»ç™¾åº¦echartså®˜ç½‘ä¸‹è½½echartsï¼Œè§£å‹åæ‰¾åˆ°ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echarts-<span class="number">2.2</span><span class="number">.7</span>/build/dist/echarts.js</span><br><span class="line">echarts-<span class="number">2.2</span><span class="number">.7</span>/build/dist/chart</span><br><span class="line">echarts-<span class="number">2.2</span><span class="number">.7</span>/doc/example/theme</span><br><span class="line">echarts-<span class="number">2.2</span><span class="number">.7</span>/doc/asset/js/echartsConfig.js</span><br></pre></td></tr></table></figure>
<p>å°†è¿™äº›æ–‡ä»¶å’Œæ–‡ä»¶æ”¾å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºechartsåŒ…ï¼ˆæˆ‘å°†å…¶å‘½åä¸ºechartsï¼Œæœ¬æ–‡ä¸­è®²åˆ°çš„echartså°±æ˜¯æŒ‡è¿™ä¸ªåŒ…ï¼‰ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">demo</span><br><span class="line">   <span class="string">|--demo.html</span></span><br><span class="line">   <span class="string">|--js</span></span><br><span class="line">      <span class="string">|--echarts</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œé‡å¤´æˆæ¥äº†ï¼Œå°äºŒï¼Œä¸Šä»£ç ~~  æ¥äº†æ‚¨å‘~~<br><a href="/projects/echartsDemos/demo1.html" target="_blank" style="font-size:9pt"><code>ä»£ç é¢„è§ˆç‚¹è¿™é‡Œ</code></a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">lang</span>=<span class="value">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>ECharts-åŸºæœ¬çº¿æ€§å›¾åŠå…¶é…ç½®è¦æ±‚<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"main"</span> <span class="attribute">style</span>=<span class="value">"height: 400px; width:800px; border-radius: 10px; padding: 10px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"./js/echarts/echarts.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://code.jquery.com/jquery-1.11.3.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">language</span>=<span class="value">"javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">        <span class="built_in">require</span>.config(&#123;</span><br><span class="line">            paths: &#123;</span><br><span class="line">                 echarts: <span class="string">'./js/echarts'</span>, <span class="comment">//echartsåŒ…çš„è·¯å¾„</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">        <span class="built_in">require</span>(</span><br><span class="line">            [</span><br><span class="line">            <span class="string">'echarts'</span>,</span><br><span class="line">            <span class="string">'echarts/theme/dark'</span>, <span class="comment">//éœ€è¦ä½¿ç”¨çš„themeï¼Œå¦‚æœä¸éœ€è¦å¯ä»¥çœç•¥</span></span><br><span class="line">            <span class="string">'echarts/chart/line'</span>, <span class="comment">//éœ€è¦å¼•å…¥çš„è¡¨æ ¼ç±»å‹</span></span><br><span class="line">            <span class="string">'echarts/chart/bar'</span> <span class="comment">//åŒä¸Š</span></span><br><span class="line">            ],</span><br><span class="line">        <span class="comment">//å›è°ƒå‡½æ•°</span></span><br><span class="line">        <span class="comment">//æ¸²æŸ“EChartså›¾è¡¨</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">ec,theme</span>) </span>&#123;  <span class="comment">//å¦‚ä¸ä½¿ç”¨themeï¼Œå¯ä»¥çœç•¥themeå‚æ•°ï¼Œec.initä¹Ÿå¯ä»¥çœç•¥</span></span><br><span class="line">            <span class="comment">//å›¾è¡¨æ¸²æŸ“çš„å®¹å™¨å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">var</span> chartContainer = <span class="built_in">document</span>.getElementById(<span class="string">"main"</span>);</span><br><span class="line">            <span class="comment">//åŠ è½½å›¾è¡¨</span></span><br><span class="line">            <span class="keyword">var</span> myChart = ec.init(chartContainer,theme);</span><br><span class="line">            option = &#123;</span><br><span class="line">                title: &#123;</span><br><span class="line">                    text: <span class="string">'echarts-åŸºæœ¬çº¿æ€§å›¾'</span>,</span><br><span class="line">                    x: <span class="string">'center'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                tooltip: &#123;</span><br><span class="line">                    trigger: <span class="string">'axis'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                legend: &#123;</span><br><span class="line">                    y: <span class="string">'bottom'</span>,</span><br><span class="line">                    data:[<span class="string">'é‚®ä»¶è¥é”€'</span>,<span class="string">'è”ç›Ÿå¹¿å‘Š'</span>,<span class="string">'è§†é¢‘å¹¿å‘Š'</span>,<span class="string">'ç›´æ¥è®¿é—®'</span>,<span class="string">'æœç´¢å¼•æ“'</span>]</span><br><span class="line">                &#125;,</span><br><span class="line">                toolbox: &#123;</span><br><span class="line">                    show: <span class="literal">true</span>,</span><br><span class="line">                    x: <span class="string">'right'</span>,</span><br><span class="line">                    orient: <span class="string">'vertical'</span>,</span><br><span class="line">                    feature: &#123;</span><br><span class="line">                        mark: &#123;show: <span class="literal">true</span>&#125;,</span><br><span class="line">                        dataView: &#123;show: <span class="literal">true</span>, readOnly: <span class="literal">false</span>&#125;,</span><br><span class="line">                        magicType: &#123;show: <span class="literal">true</span>, type: [<span class="string">'line'</span>, <span class="string">'bar'</span>, <span class="string">'stack'</span>, <span class="string">'tiled'</span>]&#125;,</span><br><span class="line">                        restore: &#123;show: <span class="literal">true</span>&#125;,</span><br><span class="line">                        saveAsImage: &#123;show: <span class="literal">true</span>&#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                calculable: <span class="literal">true</span>,</span><br><span class="line">                xAxis: [</span><br><span class="line">                &#123;</span><br><span class="line">                    type: <span class="string">'category'</span>,</span><br><span class="line">                    boundaryGap: <span class="literal">false</span>,</span><br><span class="line">                    data: [<span class="string">'å‘¨ä¸€'</span>,<span class="string">'å‘¨äºŒ'</span>,<span class="string">'å‘¨ä¸‰'</span>,<span class="string">'å‘¨å››'</span>,<span class="string">'å‘¨äº”'</span>,<span class="string">'å‘¨å…­'</span>,<span class="string">'å‘¨æ—¥'</span>]</span><br><span class="line">                &#125;</span><br><span class="line">                ],</span><br><span class="line">                yAxis: [</span><br><span class="line">                &#123;</span><br><span class="line">                    type: <span class="string">'value'</span></span><br><span class="line">                &#125;</span><br><span class="line">                ],</span><br><span class="line">                series: [</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'é‚®ä»¶è¥é”€'</span>,</span><br><span class="line">                    type:<span class="string">'line'</span>,</span><br><span class="line">                    stack: <span class="string">'æ€»é‡'</span>,</span><br><span class="line">                    data:[<span class="number">120</span>, <span class="number">132</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'è”ç›Ÿå¹¿å‘Š'</span>,</span><br><span class="line">                    type:<span class="string">'line'</span>,</span><br><span class="line">                    stack: <span class="string">'æ€»é‡'</span>,</span><br><span class="line">                    data:[<span class="number">220</span>, <span class="number">182</span>, <span class="number">191</span>, <span class="number">234</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'è§†é¢‘å¹¿å‘Š'</span>,</span><br><span class="line">                    type:<span class="string">'line'</span>,</span><br><span class="line">                    stack: <span class="string">'æ€»é‡'</span>,</span><br><span class="line">                    data:[<span class="number">150</span>, <span class="number">232</span>, <span class="number">201</span>, <span class="number">154</span>, <span class="number">190</span>, <span class="number">330</span>, <span class="number">410</span>]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'ç›´æ¥è®¿é—®'</span>,</span><br><span class="line">                    type:<span class="string">'line'</span>,</span><br><span class="line">                    stack: <span class="string">'æ€»é‡'</span>,</span><br><span class="line">                    data:[<span class="number">320</span>, <span class="number">332</span>, <span class="number">301</span>, <span class="number">334</span>, <span class="number">390</span>, <span class="number">330</span>, <span class="number">320</span>]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'æœç´¢å¼•æ“'</span>,</span><br><span class="line">                    type:<span class="string">'line'</span>,</span><br><span class="line">                    stack: <span class="string">'æ€»é‡'</span>,</span><br><span class="line">                    data:[<span class="number">820</span>, <span class="number">932</span>, <span class="number">901</span>, <span class="number">934</span>, <span class="number">1290</span>, <span class="number">1330</span>, <span class="number">1320</span>]</span><br><span class="line">                &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;;</span><br><span class="line">            myChart.setOption(option);</span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> marginWidth = $(<span class="string">'body'</span>).width() - $(<span class="string">'#main'</span>).width();</span><br><span class="line">            <span class="keyword">var</span> marginLeft = marginWidth / <span class="number">2</span>;</span><br><span class="line">            $(<span class="string">'#main'</span>).css(<span class="string">'margin-left'</span>, marginLeft);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œä»£ç ä¸­çš„<code>echarts: &#39;./js/echarts&#39;</code>æŒ‡çš„æ˜¯echartsåŒ…æ‰€åœ¨çš„ä½ç½®ï¼Œè€Œ<code>[&#39;echarts&#39;,&#39;echarts/theme/dark&#39;, &#39;echarts/chart/line&#39;]</code>ä¸­çš„echartsåˆ™æ˜¯æŒ‡å¼•å…¥åŒ…å¾—å˜é‡åã€‚åœ¨é…ç½®echartsä¸­æœ€é‡è¦çš„å°±æ˜¯<code>option</code>äº†ï¼Œ<code>option</code>çš„ä¸­é…ç½®é¡¹å¯ä»¥æŸ¥çœ‹<a href="http://echarts.baidu.com/doc/option.html" target="_blank" rel="external"><em>echartsé…ç½®é¡¹æŸ¥æ‰¾å·¥å…·</em></a>ã€‚</p>
<p>å¥½å•¦ï¼Œä»Šå¤©å°±è®²è¿™ä¹ˆå¤š~~ ä¸‹ä¸€æ¬¡æˆ‘ä»¬å†æ¥è®²echartsç‚¹å‡»äº‹ä»¶~~ æ‹œæ‹œï¼Œå€ºè§~</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>å¥½ä¹…æ²¡æ¥æ›´æ–°åšå®¢~å¿™æ­»å¿™æ­»â€¦â€¦æœ€è¿‘ç¨å¾®æœ‰ç‚¹ç©ºäº†è¡¥æ›´è¡¥æ›´~~ğŸ˜ŠğŸ˜Š</p>
<p>æœ€è¿‘åœ¨ç ”ç©¶echartsï¼Œå‘ç°ç½‘ä¸Šçš„é…ç½®å¸–ä¸­çš„é…ç½®æ–¹æ³•æœ‰ç‚¹è¿‡æ—¶ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ¥å†™ä¸€ç¯‡ï¼Œè®°å½•ä¸‹echartsçš„é…ç½®æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆå»ç™¾åº¦echartså®˜ç½‘ä¸‹è½½echartsï¼Œè§£å‹åæ‰¾åˆ°ä»¥ä¸‹]]>
    </summary>
    
      <category term="echarts" scheme="http://yoursite.com/tags/echarts/"/>
    
      <category term="echarts" scheme="http://yoursite.com/categories/echarts/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[JavaScripté—­åŒ…ä¹‹ä¸ªäººæ‹™è§]]></title>
    <link href="http://yoursite.com/2015/10/16/JS-bibao-2015-10-16/"/>
    <id>http://yoursite.com/2015/10/16/JS-bibao-2015-10-16/</id>
    <published>2015-10-16T01:41:23.000Z</published>
    <updated>2015-10-16T14:54:51.000Z</updated>
    <content type="html"><![CDATA[<p>æ˜¨å¤©ç ”ç©¶äº†ä¸€ä¸‹JSçš„é—­åŒ…æœºåˆ¶ï¼Œå¤§æ¦‚æ•´ç†äº†ä¸€ä¸‹ï¼Œè®°å½•åœ¨æ­¤ï¼Œåšä¸ªå¤‡å¿˜ã€‚</p>
<p>é¦–å…ˆï¼ŒJSé—­åŒ…çš„ç†è§£éš¾ç‚¹ä¹Ÿæ˜¯å…¶ç‰¹ç‚¹åœ¨äºï¼Œå®ƒå¯ä»¥æŠŠå‡½æ•°ä½“å†…çš„å±€éƒ¨å˜é‡ç»´æŒä½ï¼Œä½¿å¾—åœ¨å‡½æ•°ä½œç”¨åŸŸå¤–ä¹Ÿèƒ½è®¿é—®åˆ°ã€‚è¿™å’Œ<em>C</em>å’Œ<em>Java</em>ç­‰é™æ€è¯­è¨€çš„æœºåˆ¶æ˜¯å¾ˆä¸ä¸€æ ·çš„ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>; <span class="comment">// å…¨å±€å˜é‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> scope = <span class="string">"local scope"</span>; <span class="comment">// å±€éƒ¨å˜é‡</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> scope;&#125; <span class="comment">// åœ¨ä½œç”¨åŸŸå†…è¿”å›è¿™ä¸ªå€¼</span></span><br><span class="line">	<span class="keyword">return</span> f; <span class="comment">// å¦‚æœè¿”å›çš„æ˜¯f()ï¼Œç»“æœä¼šæ˜¯ç¥é©¬ï¼Ÿ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkscope()(); <span class="comment">// "local scope"</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ˜æ˜¾çš„ç‰¹ç‚¹å°±æ˜¯è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œä»¤äººè´¹è§£çš„æ˜¯ï¼Œ<code>var scope = &quot;local scope&quot;;</code>çš„ä½œç”¨åŸŸåº”è¯¥åœ¨å‡½æ•°<code>checkscope()</code>å†…ï¼Œè€Œå½“è¯­å¥<code>checkscope()()</code>æ‰§è¡Œæ—¶ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯<code>checkscope()</code>è¿”å›çš„å‡½æ•°å¯¹è±¡ï¼Œè¿™å·²ç»è¶…å‡ºäº†å±€éƒ¨å˜é‡<code>scope</code>çš„ä½œç”¨åŸŸï¼Œè€Œæˆ‘ä»¬å´ä¾ç„¶å–åˆ°äº†å®ƒçš„å€¼ï¼Œè¿™å°±æ˜¯é—­åŒ…çš„å¼ºå¤§ä¹‹å¤„äº†ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œæˆ‘ä»¬å¾—åˆ°çš„åªæ˜¯<code>scope</code>çš„é™æ€å¿«ç…§(<em>static snapshot</em>)ã€‚äº‹å®çœŸæ˜¯å¦‚æ­¤å—ï¼Œæˆ‘ä»¬ä¸€ä¼šç»™ä¸ªä¾‹å­æ¥æ‰¾å‡ºè¿™ä¸ªç­”æ¡ˆï¼Œä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè®²è®²å¤šé—­åŒ…å…±äº«å˜é‡ï¼Œå…ˆä¸Šä¾‹å­ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">counter</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		count: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> n++;&#125;,</span><br><span class="line">		reset: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; n = <span class="number">0</span>;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = counter();</span><br><span class="line">c.count(); <span class="comment">// =&gt; 0</span></span><br><span class="line">c.reset(); <span class="comment">// reset()å’Œcount()å…±äº«äº†å˜é‡çŠ¶æ€</span></span><br><span class="line">c.count(); <span class="comment">// =&gt; 0: å·²ç»è¢«é‡ç½®äº†</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œcounter()è¿”å›äº†ä¸€ä¸ªâ€œè®¡æ•°å™¨â€å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼šcount()å’Œreset()ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å…±äº«ç§æœ‰å˜é‡nã€‚</p>
<p>æœ‰äº†ä¸Šé¢é‚£ä¸ªä¾‹å­åšé“ºå«ï¼Œé‚£æˆ‘ä»¬å†æ¥è§£å†³ä¹‹å‰çš„é‚£ä¸ªé—®é¢˜ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡½æ•°å°†ä¼šåˆ›å»ºå¤šä¸ªé—­åŒ…ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">constfuncs</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> funcs = [];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> ;i++)</span><br><span class="line">		funcs[i] = =<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> i;&#125;</span><br><span class="line">	<span class="keyword">return</span> funcs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> funcs = constfuncs();</span><br><span class="line">funcs[<span class="number">5</span>](); <span class="comment">// ç»“æœä¼šæ˜¯ç¥é©¬</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘æƒ³å¤§å¤šæ•°ç›†å‹ä¼šè®¤ä¸ºç»“æœæ˜¯5ï¼Œå¥½å§ï¼Œæˆ‘æ‰¿è®¤æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ğŸ˜‚ã€‚ç„¶è€Œç»“æœæ˜¯10ï¼Œè¿™å¤§å¤§å‡ºä¹äº†æˆ‘ä»¬çš„é¢„æ–™ï¼Œå…¶å®è¿™ä¸ªç­”æ¡ˆä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œå‡½æ•°è¿”å›çš„å¤šä¸ªé—­åŒ…å…±äº«äº†å˜é‡<code>i</code>çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯å„è‡ªå°†å…¶å¤åˆ¶ä¸€ä»½ï¼Œä¹Ÿä¸ä¼šå¯¹å…¶ç”Ÿæˆé™æ€å¿«ç…§ã€‚</p>
<p>å†æ¥è®²ä¸€ä¸ªé—­åŒ…çš„ç‰¹æ®Šç”¨é€”â€”â€”å…±äº«ç§æœ‰çŠ¶æ€ï¼š</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function counter(<span class="keyword">n</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		get <span class="keyword">count</span>() &#123; <span class="keyword">return</span> <span class="keyword">n</span>++;&#125;,</span><br><span class="line">		<span class="keyword">set</span> <span class="keyword">count</span>(<span class="keyword">m</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">m</span> &gt; <span class="keyword">n</span>) <span class="keyword">n</span> = <span class="keyword">m</span>;</span><br><span class="line">			<span class="keyword">else</span> throw <span class="keyword">Error</span>(<span class="string">"count can only be set to a larger value"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = counter(1000);</span><br><span class="line">c.<span class="keyword">count</span> <span class="comment">// =&gt; 1000</span></span><br><span class="line">c.<span class="keyword">count</span> <span class="comment">// =&gt; 1001</span></span><br><span class="line">c.<span class="keyword">count</span> = 2000 </span><br><span class="line">c.<span class="keyword">count</span> <span class="comment">// =&gt; 2000</span></span><br><span class="line">c.<span class="keyword">count</span> = 2000 <span class="comment">// =&gt; Error</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°æ²¡æœ‰å£°æ˜å±€éƒ¨å˜é‡è€Œæ˜¯ä½¿ç”¨å‚æ•°næ¥ä¿å­˜ç§æœ‰çŠ¶æ€ï¼Œå±æ€§å­˜å–å™¨æ–¹æ³•å¯ä»¥è®¿é—®nï¼Œè€Œè°ƒç”¨counter()å¯ä»¥æŒ‡å®šç§æœ‰å˜é‡çš„åˆå§‹å€¼ã€‚</p>
<p>æˆ‘çš„ç¬¬ä¸€ç¯‡æŠ€æœ¯åšå®¢å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œè¿™ç¯‡åšå®¢åœ¨é«˜äº®ä¸Šè²Œä¼¼é‡åˆ°äº†ç‚¹éº»çƒ¦â€¦â€¦â€¦â€¦æˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆæäº†ğŸ˜°</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>æ˜¨å¤©ç ”ç©¶äº†ä¸€ä¸‹JSçš„é—­åŒ…æœºåˆ¶ï¼Œå¤§æ¦‚æ•´ç†äº†ä¸€ä¸‹ï¼Œè®°å½•åœ¨æ­¤ï¼Œåšä¸ªå¤‡å¿˜ã€‚</p>
<p>é¦–å…ˆï¼ŒJSé—­åŒ…çš„ç†è§£éš¾ç‚¹ä¹Ÿæ˜¯å…¶ç‰¹ç‚¹åœ¨äºï¼Œå®ƒå¯ä»¥æŠŠå‡½æ•°ä½“å†…çš„å±€éƒ¨å˜é‡ç»´æŒä½ï¼Œä½¿å¾—åœ¨å‡½æ•°ä½œç”¨åŸŸå¤–ä¹Ÿèƒ½è®¿é—®åˆ°ã€‚è¿™å’Œ<em>C</em>å’Œ<em>Java</em>ç­‰é™æ€è¯­è¨€çš„æœºåˆ¶æ˜¯å¾ˆä¸ä¸€æ ·çš„ã€‚</p]]>
    </summary>
    
      <category term="JavaScripté—­åŒ…" scheme="http://yoursite.com/tags/JavaScript%E9%97%AD%E5%8C%85/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/categories/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[æˆ‘çš„ç¬¬ä¸€ç¯‡Blog]]></title>
    <link href="http://yoursite.com/2015/10/15/my-first-post/"/>
    <id>http://yoursite.com/2015/10/15/my-first-post/</id>
    <published>2015-10-14T23:56:29.000Z</published>
    <updated>2015-10-15T09:00:21.000Z</updated>
    <content type="html"><![CDATA[<p>èŠ±äº†ä¸¤å¤©ä¸åˆ°çš„æ—¶é—´ç»ˆäºå¼„å¥½äº†æˆ‘çš„æŠ€æœ¯åšå®¢ï¼ŒæŒ‚åˆ°äº†<em>github</em>ä¸Šé¢ã€‚å›æƒ³ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡äº§ç”ŸåšæŠ€æœ¯åšå®¢çš„æƒ³æ³•è¿˜æ˜¯åœ¨å››æœˆä»½ï¼Œè¿‡äº†å¤§åŠå¹´æ‰å®Œæˆï¼ŒçœŸæ˜¯æƒ­æ„§äº†ã€‚</p>
<p>æ¥åˆ°å—å¤§ä¹Ÿæœ‰ä¸€ä¸ªå¤šæœˆäº†ï¼ˆè™½ç„¶ç»™å­¦æ ¡çš„å¹²æ´»çš„æ—¶é—´è¿œé•¿äºæ­¤ğŸ˜“ï¼‰ï¼Œå´ä»ç„¶è¿˜æ²¡ä¸Šè¿‡ä¸€å ‚è¯¾ï¼ˆè€å¸ˆï¼Œè¯·æ”¶ä¸‹æˆ‘çš„è†ç›–ğŸ˜¢ï¼‰ã€‚ä¸è¿‡æƒ³æƒ³è½¯ä»¶å·¥ç¨‹çš„ç‰¹ï¼ˆcheï¼‰ç‚¹ï¼ˆdanï¼‰ä¸å°±åœ¨æ­¤å—ğŸ˜‚ã€‚</p>
<p>å¥½äº†ï¼Œå°±å†™è¿™ä¹ˆå¤šäº†ï¼Œå›å»å¹²æ´»å•¦ğŸ˜«~ï¼ˆ<font color="#FF0000">æ‰€æœ‰äººï¼Œéƒ½è¿‡æ¥~å›å»å¹²æ´»</font>ï¼‰</p>
<p>æœ€åï¼Œä¸ºæˆ˜æ­Œé»˜å“€~æ°¸åˆ«äº†ï¼Œå¥´éš¶æˆ˜ğŸ˜”ğŸ˜”ğŸ˜”<br><img src="/images/nulizhan.jpg" alt="å¥´éš¶æˆ˜"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>èŠ±äº†ä¸¤å¤©ä¸åˆ°çš„æ—¶é—´ç»ˆäºå¼„å¥½äº†æˆ‘çš„æŠ€æœ¯åšå®¢ï¼ŒæŒ‚åˆ°äº†<em>github</em>ä¸Šé¢ã€‚å›æƒ³ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡äº§ç”ŸåšæŠ€æœ¯åšå®¢çš„æƒ³æ³•è¿˜æ˜¯åœ¨å››æœˆä»½ï¼Œè¿‡äº†å¤§åŠå¹´æ‰å®Œæˆï¼ŒçœŸæ˜¯æƒ­æ„§äº†ã€‚</p>
<p>æ¥åˆ°å—å¤§ä¹Ÿæœ‰ä¸€ä¸ªå¤šæœˆäº†ï¼ˆè™½ç„¶ç»™å­¦æ ¡çš„å¹²æ´»çš„æ—¶é—´è¿œé•¿äºæ­¤ğŸ˜“ï¼‰ï¼Œå´ä»ç„¶è¿˜æ²¡ä¸Šè¿‡ä¸€å ‚è¯¾ï¼ˆè€å¸ˆï¼Œè¯·æ”¶]]>
    </summary>
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="éšç¬”" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
